(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{37:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var r,c,a=n(0),o=n.n(a),u=n(17),i=n.n(u),s=(n(37),n(11)),l=n(8),b=n(9),d=b.a.label(r||(r=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 250px;\n"]))),j=n(5),p=n(6),f=Object(p.b)("contacts/filter"),O=n(1);function h(){var e=Object(j.c)((function(e){return e.contacts})).filter,t=Object(j.b)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(d,{children:["Find contacts by name",Object(O.jsx)("input",{type:"text",name:"filter",value:e,onChange:function(e){var n=e.target.value;t(f(n))},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]})})}var x,m=b.a.button(c||(c=Object(l.a)(["\n  margin-left: 25px;\n  :hover,\n  :focus {\n    background-color: blue;\n    color: white;\n  }\n"])));function v(e){var t=e.id,n=e.name,r=e.phone,c=e.deleteContact;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("span",{children:[n," : ",r]}),Object(O.jsx)(m,{type:"button",onClick:function(){return c(t)},children:"Delete"})]})}var g=b.a.ul(x||(x=Object(l.a)(["\n  & li {\n    margin-top: 7px;\n  }\n"]))),y=n(4),w=n.n(y),k=n(10),C=n(14),A=n.n(C);function F(){return z.apply(this,arguments)}function z(){return(z=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/contacts");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return L.apply(this,arguments)}function L(){return(L=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/contacts",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return J.apply(this,arguments)}function J(){return(J=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.delete("/contacts/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}A.a.defaults.baseURL="https://62056a28161670001741bb7d.mockapi.io";var N=Object(p.c)("contacts/fetchContacts",Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),S=Object(p.c)("contacts/addContacts",function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=Object(p.c)("contacts/deleteContacts",function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),q=n(30);var D=function(){return Object(O.jsx)("div",{children:Object(O.jsx)(q.a,{color:"#00BFFF",margin:"0 auto",height:50,width:50})})};function E(){var e=Object(j.c)((function(e){return e.contacts})),t=e.contacts,n=e.filter,r=e.loading,c=Object(j.b)(),a=function(e){c(M(e)),s.b.success("delete is complete")};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("section",{children:r?Object(O.jsx)(D,{}):Object(O.jsx)(g,{children:t.length>0&&t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){var t=e.id,n=e.name,r=e.phone;return Object(O.jsx)("li",{children:Object(O.jsx)(v,{id:t,name:n,phone:r,deleteContact:a})},t)}))})})})}var P,$=n(20),I=b.a.form(P||(P=Object(l.a)(["\n  /* display: flex;\n  flex-direction: column; */\n  padding: 20px;\n  width: 300px;\n  border: 1px solid black;\n\n  & label {\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n  }\n  & button {\n    margin-top: 20px;\n    :hover,\n    :focus {\n      background-color: blue;\n      color: white;\n    }\n  }\n"])));function R(){var e=Object(a.useState)(""),t=Object($.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object($.a)(c,2),u=o[0],i=o[1],l=Object(j.c)((function(e){return e.contacts.contacts})),b=Object(j.b)(),d=function(e){var t=e.target,n=t.name,c=t.value;switch(n){case"name":r(c);break;case"number":i(c);break;default:return}},p=function(e){l.some((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}))?s.b.error("contact with such name already exists"):(b(S(e)),s.b.success("contact added"))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(I,{onSubmit:function(e){e.preventDefault(),p({name:n,phone:u}),i(""),r("")},children:[Object(O.jsxs)("label",{children:["Name",Object(O.jsx)("input",{type:"text",name:"name",onChange:d,value:n,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),Object(O.jsxs)("label",{children:["Number",Object(O.jsx)("input",{type:"tel",name:"number",onChange:d,value:u,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),Object(O.jsx)("button",{type:"submit",children:"Add contact"})]})})}var U,G,H,K=function(){var e=Object(j.b)();return Object(a.useEffect)((function(){e(N())}),[e]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(s.a,{}),Object(O.jsx)("h1",{children:"Phonebook"}),Object(O.jsx)(R,{}),Object(O.jsx)("h2",{children:"Contacts"}),Object(O.jsx)(h,{}),Object(O.jsx)(E,{})]})},Q=n(2),T=n(31),V=n(7),W=Object(p.d)([],(U={},Object(Q.a)(U,N.fulfilled,(function(e,t){return t.payload})),Object(Q.a)(U,S.fulfilled,(function(e,t){return[t.payload].concat(Object(T.a)(e))})),Object(Q.a)(U,M.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n.id}))})),U)),X=Object(p.d)("",Object(Q.a)({},f,(function(e,t){return t.payload}))),Y=Object(p.d)(!1,(G={},Object(Q.a)(G,N.pending,(function(){return!0})),Object(Q.a)(G,N.fulfilled,(function(){return!1})),Object(Q.a)(G,N.rejected,(function(){return!1})),Object(Q.a)(G,S.pending,(function(){return!0})),Object(Q.a)(G,S.fulfilled,(function(){return!1})),Object(Q.a)(G,S.rejected,(function(){return!1})),Object(Q.a)(G,M.pending,(function(){return!0})),Object(Q.a)(G,M.fulfilled,(function(){return!1})),Object(Q.a)(G,M.rejected,(function(){return!1})),G)),_=Object(p.d)(null,(H={},Object(Q.a)(H,N.rejected,(function(e,t){return t.payload})),Object(Q.a)(H,N.pending,(function(){return null})),Object(Q.a)(H,S.rejected,(function(e,t){return t.payload})),Object(Q.a)(H,S.pending,(function(){return null})),Object(Q.a)(H,M.rejected,(function(e,t){return t.payload})),Object(Q.a)(H,M.pending,(function(){return null})),H)),ee=Object(V.b)({contacts:W,filter:X,loading:Y,error:_}),te=Object(p.a)({reducer:{contacts:ee}});i.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(j.a,{store:te,children:Object(O.jsx)(K,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.5be14e88.chunk.js.map