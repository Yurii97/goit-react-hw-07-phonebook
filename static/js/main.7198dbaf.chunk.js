(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{36:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var r,c,a=n(0),o=n.n(a),u=n(17),i=n.n(u),s=(n(36),n(11)),l=n(8),b=n(9),d=b.a.label(r||(r=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 250px;\n"]))),j=n(5),p=n(6),f=Object(p.b)("contacts/filter"),O=n(1);function h(){var e=Object(j.c)((function(e){return e.contacts})).filter,t=Object(j.b)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(d,{children:["Find contacts by name",Object(O.jsx)("input",{type:"text",name:"filter",value:e,onChange:function(e){var n=e.target.value;t(f(n))},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]})})}var x,m=b.a.button(c||(c=Object(l.a)(["\n  margin-left: 25px;\n  :hover,\n  :focus {\n    background-color: blue;\n    color: white;\n  }\n"])));function v(e){var t=e.id,n=e.name,r=e.phone,c=e.deleteContact;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("span",{children:[n," : ",r]}),Object(O.jsx)(m,{type:"button",onClick:function(){return c(t)},children:"Delete"})]})}var g=b.a.ul(x||(x=Object(l.a)(["\n  & li {\n    margin-top: 7px;\n  }\n"]))),y=n(4),w=n.n(y),k=n(10),C=n(14),A=n.n(C);function z(){return F.apply(this,arguments)}function F(){return(F=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/contacts");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return L.apply(this,arguments)}function L(){return(L=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/contacts",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return N.apply(this,arguments)}function N(){return(N=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.delete("/contacts/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}A.a.defaults.baseURL="https://62056a28161670001741bb7d.mockapi.io";var S=Object(p.c)("contacts/fetchContacts",Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),B=Object(p.c)("contacts/addContacts",function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=Object(p.c)("contacts/deleteContacts",function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function q(){var e=Object(j.c)((function(e){return e.contacts})),t=e.contacts,n=e.filter,r=Object(j.b)(),c=function(e){r(M(e)),s.b.success("delete is complete")};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("section",{children:Object(O.jsx)(g,{children:t.length>0&&t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){var t=e.id,n=e.name,r=e.phone;return Object(O.jsx)("li",{children:Object(O.jsx)(v,{id:t,name:n,phone:r,deleteContact:c})},t)}))})})})}var D,E=n(20),P=b.a.form(D||(D=Object(l.a)(["\n  /* display: flex;\n  flex-direction: column; */\n  padding: 20px;\n  width: 300px;\n  border: 1px solid black;\n\n  & label {\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n  }\n  & button {\n    margin-top: 20px;\n    :hover,\n    :focus {\n      background-color: blue;\n      color: white;\n    }\n  }\n"])));function $(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(E.a)(c,2),u=o[0],i=o[1],l=Object(j.c)((function(e){return e.contacts.contacts})),b=Object(j.b)(),d=function(e){var t=e.target,n=t.name,c=t.value;switch(n){case"name":r(c);break;case"number":i(c);break;default:return}},p=function(e){l.some((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}))?s.b.error("contact with such name already exists"):(b(B(e)),s.b.success("contact added"))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(P,{onSubmit:function(e){e.preventDefault(),p({name:n,phone:u}),i(""),r("")},children:[Object(O.jsxs)("label",{children:["Name",Object(O.jsx)("input",{type:"text",name:"name",onChange:d,value:n,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),Object(O.jsxs)("label",{children:["Number",Object(O.jsx)("input",{type:"tel",name:"number",onChange:d,value:u,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),Object(O.jsx)("button",{type:"submit",children:"Add contact"})]})})}var I,R,U,G=function(){var e=Object(j.b)();return Object(a.useEffect)((function(){e(S())}),[e]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(s.a,{}),Object(O.jsx)("h1",{children:"Phonebook"}),Object(O.jsx)($,{}),Object(O.jsx)("h2",{children:"Contacts"}),Object(O.jsx)(h,{}),Object(O.jsx)(q,{})]})},H=n(2),K=n(30),Q=n(7),T=Object(p.d)([],(I={},Object(H.a)(I,S.fulfilled,(function(e,t){return t.payload})),Object(H.a)(I,B.fulfilled,(function(e,t){return[t.payload].concat(Object(K.a)(e))})),Object(H.a)(I,M.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n.id}))})),I)),V=Object(p.d)("",Object(H.a)({},f,(function(e,t){return t.payload}))),W=Object(p.d)(!1,(R={},Object(H.a)(R,S.pending,(function(){return!0})),Object(H.a)(R,S.fulfilled,(function(){return!1})),Object(H.a)(R,S.rejected,(function(){return!1})),Object(H.a)(R,B.pending,(function(){return!0})),Object(H.a)(R,B.fulfilled,(function(){return!1})),Object(H.a)(R,B.rejected,(function(){return!1})),Object(H.a)(R,M.pending,(function(){return!0})),Object(H.a)(R,M.fulfilled,(function(){return!1})),Object(H.a)(R,M.rejected,(function(){return!1})),R)),X=Object(p.d)(null,(U={},Object(H.a)(U,S.rejected,(function(e,t){return t.payload})),Object(H.a)(U,S.pending,(function(){return null})),Object(H.a)(U,B.rejected,(function(e,t){return t.payload})),Object(H.a)(U,B.pending,(function(){return null})),Object(H.a)(U,M.rejected,(function(e,t){return t.payload})),Object(H.a)(U,M.pending,(function(){return null})),U)),Y=Object(Q.b)({contacts:T,filter:V,loading:W,error:X}),_=Object(p.a)({reducer:{contacts:Y}});i.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(j.a,{store:_,children:Object(O.jsx)(G,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.7198dbaf.chunk.js.map