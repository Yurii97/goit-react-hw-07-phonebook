{"version":3,"sources":["components/Filter/Filter.styled.jsx","redux/contacts/contacts-actions.js","components/Filter/Filter.jsx","components/Contact/Contact.styled.jsx","services/contactsApi.js","components/Spiner/Spiner.jsx","components/Contact/Contact.jsx","components/ContactList/ContactList.styled.jsx","components/ContactList/ContactList.jsx","components/ContactForm/ContactForm.styled.jsx","components/ContactForm/ContactForm.jsx","App.js","redux/contacts/contacts-reduser.js","redux/store.js","index.js"],"names":["FilterInput","styled","label","filterAct","createAction","Filter","filter","useSelector","state","contacts","dispatch","useDispatch","type","name","value","onChange","e","target","pattern","title","ButtonStyled","button","contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getContact","query","providesTags","addContact","mutation","newContact","url","method","body","invalidatesTags","deleteContact","id","useGetContactQuery","useAddContactMutation","useDeleteContactMutation","Spiner","size","style","width","height","color","margin","Contact","phone","isLoading","onClick","toast","success","removeContact","disabled","ListStyled","ul","ErrorMasage","p","ContactList","data","error","isError","isFetching","length","contact","toLowerCase","includes","map","FormStyled","form","ContactForm","useState","setName","number","setNumber","handleChange","addNewContact","some","onSubmit","preventDefault","required","App","createReducer","contactsAction","_","payload","store","configureStore","reducer","middleware","getDefaultMiddleware","setupListeners","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9a88e49b.chunk.js","sourcesContent":["import styled from '@emotion/styled';\r\n\r\nexport const FilterInput = styled.label`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 250px;\r\n`;\r\n","import { createAction} from '@reduxjs/toolkit';\r\n\r\nexport const filterAct = createAction('contacts/filter');\r\n\r\n","import { FilterInput } from './Filter.styled';\r\nimport {  useDispatch, useSelector } from 'react-redux'\r\nimport {filterAct} from 'redux/contacts/contacts-actions.js'\r\n\r\nexport default function Filter() {\r\n  const {filter} = useSelector(state=>state.contacts)\r\n  const dispatch=useDispatch();\r\n  \r\n  const handleChangeFilter = e => {\r\n    const value = e.target.value;\r\n    dispatch(filterAct(value));\r\n  };\r\n  return (\r\n    <>\r\n      <FilterInput>\r\n        Find contacts by name\r\n        <input\r\n          type=\"text\"\r\n          name=\"filter\"\r\n          value={filter}\r\n          onChange={handleChangeFilter}\r\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\r\n        />\r\n      </FilterInput>\r\n    </>\r\n  );\r\n}\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ButtonStyled = styled.button`\r\ndisplay: inline-flex;  \r\nmargin-left: 25px;\r\n  :hover,\r\n  :focus {\r\n    background-color: blue;\r\n    color: white;\r\n  }\r\n`;\r\n\r\n\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\n\r\nexport const contactsApi = createApi({\r\n  reducerPath: 'contacts',\r\n  baseQuery: fetchBaseQuery({ baseUrl: 'https://62056a28161670001741bb7d.mockapi.io' }),\r\n    tagTypes: ['Contact'],\r\n    endpoints: (builder) => ({\r\n    getContact: builder.query({\r\n        query: () => `/contacts`,\r\n        providesTags:['Contact']\r\n    }),\r\n    addContact: builder.mutation({\r\n        query: (newContact) => ({\r\n            url: `/contacts`,\r\n            method: \"POST\",\r\n            body: newContact,\r\n        }),\r\n        invalidatesTags: ['Contact'],\r\n    }),\r\n    deleteContact: builder.mutation({\r\n        query: (id) => ({\r\n            url: `/contacts/${id}`,\r\n            method: \"DELETE\",            \r\n        }),\r\n        invalidatesTags:['Contact']\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const { useGetContactQuery, useAddContactMutation, useDeleteContactMutation } = contactsApi","import { TailSpin } from 'react-loader-spinner';\r\n\r\nfunction Spiner({size}) {\r\n  return (\r\n    <div style={{width: size, height: size}}>\r\n      <TailSpin color=\"#00BFFF\" margin=\"0 auto\" height={\"inherit\"} width={ \"inherit\"}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spiner;","import { ButtonStyled } from './Contact.styled';\r\nimport { useDeleteContactMutation} from 'services/contactsApi'\r\nimport toast from 'react-hot-toast';\r\nimport Spiner from \"components/Spiner/Spiner\"\r\n\r\nexport default function Contact({ id, name, phone }) {\r\n  \r\n  const [deleteContact, {isLoading}] = useDeleteContactMutation();\r\n  \r\n  const removeContact = (id) => {\r\n    deleteContact(id)\r\n    toast.success('delete is complete');\r\n  }\r\n  return (\r\n    <>\r\n      <span>\r\n        {name} : {phone}\r\n      </span>\r\n      <ButtonStyled type=\"button\" onClick={() => removeContact(id)} disabled={isLoading}>\r\n        {isLoading && <Spiner size={12}/>}\r\n        Delete\r\n      </ButtonStyled>\r\n    </>\r\n  );\r\n}\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ListStyled = styled.ul`\r\n  & li {\r\n    margin-top: 7px;\r\n  }\r\n`;\r\nexport const ErrorMasage = styled.p`\r\ncolor: red;\r\n`","import Contact from 'components/Contact/Contact';\r\nimport { ListStyled, ErrorMasage } from './ContactList.styled';\r\nimport {   useSelector } from 'react-redux'\r\nimport Spiner from \"components/Spiner/Spiner\"\r\nimport {useGetContactQuery, } from 'services/contactsApi'\r\n\r\nexport default function ContactList() {\r\n  const { filter} = useSelector(state=>state)\r\n  \r\n  const { data, error, isError, isFetching } = useGetContactQuery();\r\n  \r\n  \r\n  return (\r\n    <>\r\n      <section>\r\n        {isFetching && <Spiner size={50}/>}\r\n        {isError && <ErrorMasage>{error.error}</ErrorMasage>}\r\n        {data && !isError && <ListStyled>\r\n          {data.length > 0 && data\r\n            .filter(contact =>\r\n              contact.name.toLowerCase().includes(filter.toLowerCase())\r\n            )\r\n            .map(({ id, name, phone }) => (\r\n              <li key={id}>\r\n                <Contact\r\n                  id={id}\r\n                  name={name}\r\n                  phone={phone}\r\n                />\r\n              </li>\r\n            ))}\r\n        </ListStyled>}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","import styled from '@emotion/styled';\r\n\r\nexport const FormStyled = styled.form`\r\n  /* display: flex;\r\n  flex-direction: column; */\r\n  padding: 20px;\r\n  width: 300px;\r\n  border: 1px solid black;\r\n\r\n  & label {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-top: 20px;\r\n  }\r\n  & button {\r\n    display: flex;\r\n    margin-top: 20px;\r\n    :hover,\r\n    :focus {\r\n      background-color: blue;\r\n      color: white;\r\n    }\r\n  }\r\n`;\r\n","import { useState } from 'react';\r\nimport { FormStyled } from './ContactForm.styled';\r\nimport toast from 'react-hot-toast';\r\nimport {useGetContactQuery, useAddContactMutation } from 'services/contactsApi';\r\nimport Spiner from 'components/Spiner/Spiner';\r\n\r\nexport default function ContactForm() {\r\n  const [name, setName] = useState('');\r\n  const [number, setNumber] = useState('');\r\n  const [addContact, {isLoading}] = useAddContactMutation();\r\n  const { data } = useGetContactQuery();\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    switch (name) {\r\n      case 'name':\r\n        setName(value);\r\n        break;\r\n      case 'number':\r\n        setNumber(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const submitForm = e => {\r\n    e.preventDefault();\r\n    const newContact = {      \r\n      name,\r\n      phone: number,\r\n    };\r\n    addNewContact(newContact);\r\n    setNumber('');\r\n    setName('');\r\n  };\r\n\r\n  const addNewContact = newContact => {\r\n    if (\r\n      data.some(\r\n        contact => contact.name.toLowerCase() === newContact.name.toLowerCase()\r\n      )\r\n    ) {\r\n      toast.error('contact with such name already exists');\r\n      return;\r\n    }\r\n    addContact(newContact);\r\n    toast.success('contact added');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FormStyled onSubmit={submitForm}>\r\n        <label>\r\n          Name\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            onChange={handleChange}\r\n            value={name}\r\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n            title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          Number\r\n          <input\r\n            type=\"tel\"\r\n            name=\"number\"\r\n            onChange={handleChange}\r\n            value={number}\r\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n            title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\r\n            required\r\n          />\r\n        </label>\r\n        <button type=\"submit\" disabled={isLoading} >\r\n          {isLoading && <Spiner size={12}/>}\r\n          Add contact</button>\r\n      </FormStyled>\r\n    </>\r\n  );\r\n}\r\n","import { Toaster } from 'react-hot-toast';\r\nimport Filter from './components/Filter/Filter';\r\nimport ContactList from './components/ContactList/ContactList';\r\nimport ContactForm from './components/ContactForm/ContactForm';\r\n\r\nfunction App() {\r\n  \r\n  return (\r\n    <>\r\n      <Toaster />\r\n      <h1>Phonebook</h1>\r\n      <ContactForm />\r\n      <h2>Contacts</h2>\r\n      <Filter />\r\n      <ContactList />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import {\r\n  createReducer,  \r\n} from '@reduxjs/toolkit';\r\nimport * as contactsAction from './contacts-actions';\r\n\r\n export const filter = createReducer('', {\r\n  [contactsAction.filterAct]: (_, { payload }) => payload,\r\n});\r\n\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport {filter} from './contacts/contacts-reduser'\r\nimport { setupListeners } from '@reduxjs/toolkit/query'\r\n\r\nimport { contactsApi } from 'services/contactsApi'\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    [contactsApi.reducerPath]: contactsApi.reducer,\r\n    filter,\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    [...getDefaultMiddleware(), contactsApi.middleware]\r\n  })\r\n\r\n\r\n  setupListeners(store.dispatch)","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { store } from './redux/store'\r\nimport { Provider } from 'react-redux'\r\n\r\nReactDOM.render(  \r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n    <App />\r\n  </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}