(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{29:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),o=n(16),i=n.n(o),s=(n(29),n(11)),d=n(8),l=n(10),u=l.a.label(a||(a=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 250px;\n"]))),b=n(4),j=n(1),h=Object(j.b)("contacts/filter"),p=n(2);function O(){var e=Object(b.e)((function(e){return e.contacts})).filter,t=Object(b.d)();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(u,{children:["Find contacts by name",Object(p.jsx)("input",{type:"text",name:"filter",value:e,onChange:function(e){var n=e.target.value;t(h(n))},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]})})}var m,x=n(13),f=l.a.button(m||(m=Object(d.a)(["\ndisplay: inline-flex;  \nmargin-left: 25px;\n  :hover,\n  :focus {\n    background-color: blue;\n    color: white;\n  }\n"]))),g=n(21),y=n(5),v=Object(g.a)({reducerPath:"contacts",baseQuery:Object(y.d)({baseUrl:"https://62056a28161670001741bb7d.mockapi.io"}),tagTypes:["Contact"],endpoints:function(e){return{getContact:e.query({query:function(){return"/contacts"},providesTags:["Contact"]}),addContact:e.mutation({query:function(e){return{url:"/contacts",method:"POST",body:e}},invalidatesTags:["Contact"]}),deleteContact:e.mutation({query:function(e){return{url:"/contacts/".concat(e),method:"DELETE"}},invalidatesTags:["Contact"]})}}}),C=v.useGetContactQuery,w=v.useAddContactMutation,k=v.useDeleteContactMutation,z=n(22);var A,F,L=function(e){var t=e.size;return Object(p.jsx)("div",{style:{width:t,height:t},children:Object(p.jsx)(z.a,{color:"#00BFFF",margin:"0 auto",height:"inherit",width:"inherit"})})};function q(e){var t=e.id,n=e.name,a=e.phone,c=k(),r=Object(x.a)(c,2),o=r[0],i=r[1].isLoading;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("span",{children:[n," : ",a]}),Object(p.jsxs)(f,{type:"button",onClick:function(){return function(e){o(e),s.b.success("delete is complete")}(t)},disabled:i,children:[i&&Object(p.jsx)(L,{size:12}),"Delete"]})]})}var T,Z=l.a.ul(A||(A=Object(d.a)(["\n  & li {\n    margin-top: 7px;\n  }\n"]))),E=l.a.p(F||(F=Object(d.a)(["\ncolor: red;\n"])));function M(){var e=Object(b.e)((function(e){return e})).filter,t=C(),n=t.data,a=t.error,c=t.isError,r=t.isFetching;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("section",{children:[r&&Object(p.jsx)(L,{size:50}),c&&Object(p.jsx)(E,{children:a.error}),n&&!c&&Object(p.jsx)(Z,{children:n.length>0&&n.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})).map((function(e){var t=e.id,n=e.name,a=e.phone;return Object(p.jsx)("li",{children:Object(p.jsx)(q,{id:t,name:n,phone:a})},t)}))})]})})}var P=l.a.form(T||(T=Object(d.a)(["\n  /* display: flex;\n  flex-direction: column; */\n  padding: 20px;\n  width: 300px;\n  border: 1px solid black;\n\n  & label {\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n  }\n  & button {\n    display: flex;\n    margin-top: 20px;\n    :hover,\n    :focus {\n      background-color: blue;\n      color: white;\n    }\n  }\n"])));function S(){var e=Object(c.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(x.a)(r,2),i=o[0],d=o[1],l=w(),u=Object(x.a)(l,2),b=u[0],j=u[1].isLoading,h=C().data,O=function(e){var t=e.target,n=t.name,c=t.value;switch(n){case"name":a(c);break;case"number":d(c);break;default:return}},m=function(e){h.some((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}))?s.b.error("contact with such name already exists"):(b(e),s.b.success("contact added"))};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(P,{onSubmit:function(e){e.preventDefault(),m({name:n,phone:i}),d(""),a("")},children:[Object(p.jsxs)("label",{children:["Name",Object(p.jsx)("input",{type:"text",name:"name",onChange:O,value:n,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),Object(p.jsxs)("label",{children:["Number",Object(p.jsx)("input",{type:"tel",name:"number",onChange:O,value:i,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),Object(p.jsxs)("button",{type:"submit",disabled:j,children:[j&&Object(p.jsx)(L,{size:12}),"Add contact"]})]})})}var B,D=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(s.a,{}),Object(p.jsx)("h1",{children:"Phonebook"}),Object(p.jsx)(S,{}),Object(p.jsx)("h2",{children:"Contacts"}),Object(p.jsx)(O,{}),Object(p.jsx)(M,{})]})},J=n(23),N=n(9),Q=Object(j.d)("",Object(N.a)({},h,(function(e,t){return t.payload}))),$=Object(j.a)({reducer:(B={},Object(N.a)(B,v.reducerPath,v.reducer),Object(N.a)(B,"filter",Q),B),middleware:function(e){return[].concat(Object(J.a)(e()),[v.middleware])}});Object(y.e)($.dispatch),i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(b.a,{store:$,children:Object(p.jsx)(D,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.9a88e49b.chunk.js.map